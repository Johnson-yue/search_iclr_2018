{"notes":[{"tddate":null,"ddate":null,"tmdate":1512222665904,"tcdate":1511860089155,"number":3,"cdate":1511860089155,"id":"By-KPs9eM","invitation":"ICLR.cc/2018/Conference/-/Paper482/Official_Review","forum":"S1EwLkW0W","replyto":"S1EwLkW0W","signatures":["ICLR.cc/2018/Conference/Paper482/AnonReviewer3"],"readers":["everyone"],"content":{"title":"The paper splits ADAM algorithm into two components: stochastic direction in sign of gradient and adaptive stepwise with relative variance. Two algorithms are proposed to test each of them. For MNIST, CIFAR10, and CIFAR100 datasets, Stochastic Sign Descent shows some better performance than others in the former two but worse in the last one.","rating":"6: Marginally above acceptance threshold","review":"Stochastic Sign Descent (SSD) and Stochastic Variance Adapted Gradient (SVAG) are inspired by ADAM and studied in this paper, together with momentum terms. \n\nAnalysis showed that SSD should work better than usual SGD when the Hessian of training loss is highly diagonal dominant.  It is intrigued to observe that for MNIST and CIFAR10, SSD with momentum champions with better efficiency than ADAM, SGD and SVAG, while on the other hand, in CIFAR100, momentum-SVAG and SGD beat SSD and ADAM. Does it suggest the Hessians associated with MNIST and CIFAR10 training loss more diagonally dominant? \n\nThere are other adaptive step-sizes such as Barzilai-Borwein (BB) Step Sizes introduced to machine learning by Tan et al. NIPS 2016. Is there any connections between variance adaptation here and BB step size? ","confidence":"3: The reviewer is fairly confident that the evaluation is correct"},"writers":[],"nonreaders":[],"replyCount":0,"writable":false,"revisions":false,"tags":[],"forumContent":{"title":"Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients","abstract":"The ADAM optimizer is exceedingly popular in the deep learning community. Often it works very well, sometimes it doesn’t. Why? We interpret ADAM as a combination of two aspects: for each weight, the update direction is determined by the sign of the stochastic gradient, whereas the update magnitude is solely determined by an estimate of its relative variance. We  disentangle these two aspects and analyze them in isolation, shedding light on ADAM ’s inner workings. Transferring the \"variance adaptation” to momentum- SGD gives rise to a novel method, completing the practitioner’s toolbox for problems where ADAM fails.","pdf":"/pdf/d608f3fd3ce1628b92d6ad15a19268ae25f5440f.pdf","TL;DR":"Analyzing the popular Adam optimizer","paperhash":"anonymous|dissecting_adam_the_sign_magnitude_and_variance_of_stochastic_gradients","_bibtex":"@article{\n  anonymous2018dissecting,\n  title={Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients},\n  author={Anonymous},\n  journal={International Conference on Learning Representations},\n  year={2018},\n  url={https://openreview.net/forum?id=S1EwLkW0W}\n}","authors":["Anonymous"],"authorids":["ICLR.cc/2018/Conference/Paper482/Authors"],"keywords":["Stochastic Optimization","Deep Learning"]}},{"tddate":null,"ddate":null,"tmdate":1512222665945,"tcdate":1511711040136,"number":2,"cdate":1511711040136,"id":"S1urbvOgf","invitation":"ICLR.cc/2018/Conference/-/Paper482/Official_Review","forum":"S1EwLkW0W","replyto":"S1EwLkW0W","signatures":["ICLR.cc/2018/Conference/Paper482/AnonReviewer1"],"readers":["everyone"],"content":{"title":"Review","rating":"4: Ok but not good enough - rejection","review":"The paper presents some analysis of the scale-invariance and the particular shape of the learning rate used in Adam. The paper argues that Adam's update is a combination of a sign-update and a variance-based learning rate. Some analysis is provided on these two aspects.\n\nAfter spending a sizeable amount of time with this paper, I am not sure what are its novel contributions and why it should be published in a scientific conference. The paper contains so many approximations, simplifications, and assumptions that make any presented result extremely weak.\n\nMore in details, the analysis of the sign is done in the case of quadratic functions of Gaussian variables. The result is mildly interesting, but I fail to see how this would give us a hint of what is happening during the minimization of the non-convex objectives for training deep networks.\nMoreover, the analysis of sign based updates has been already carried over using the Polyak-Łojasiewicz assumption in Karimi et al. ECML-PKDD 2016, that is strictly more general than any quadratic approximation.\n\nThe similarity between the ``optimal'' variance-based learning rate and the one of Adam hinges again on the fact that the noise is Gaussian. As the authors admit, Schaul et al. (2013) already derived similar updates. Also, Theorem 1 recover the usual rate of convergence for strongly convex function: How is this theorem supposed to support the fact that variance-adapted learning rates are a better idea than the usual updates?\nMoreover, the proof of Theorem 1 hinges on the fact that E[||g_t||^2]\\leq G^2. Clearly, this is not possible in general for a strongly convex function. The proof might still go through, but it needs to be fixed using the fact that the updates always decrease the function.\n\nOverall, if we are considering only the convex case, Adam is clearly sub-optimal from all the points of view and better algorithms with stronger guarantees can be used. Indeed, the fact that non-convexity is never discussed is particularly alarming. It is also indicative that none of the work for minimization of finite sums are cited or discussed, e.g. the variance reduced methods immediately come to mind.\n\nRegarding the experiments, the parameters are chosen to have the best test accuracy, mixing the machine learning problem with the optimization one: it is well-known and easy to prove that a worst optimizer can give rise to better test errors. Hence, the empirical results cannot be used to support any of the proposed interpretations nor the new optimization algorithms.\n\nTo summarize, I do not think the contributions of this paper are enough to be published in ICLR.","confidence":"4: The reviewer is confident but not absolutely certain that the evaluation is correct"},"writers":[],"nonreaders":[],"replyCount":0,"writable":false,"revisions":false,"tags":[],"forumContent":{"title":"Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients","abstract":"The ADAM optimizer is exceedingly popular in the deep learning community. Often it works very well, sometimes it doesn’t. Why? We interpret ADAM as a combination of two aspects: for each weight, the update direction is determined by the sign of the stochastic gradient, whereas the update magnitude is solely determined by an estimate of its relative variance. We  disentangle these two aspects and analyze them in isolation, shedding light on ADAM ’s inner workings. Transferring the \"variance adaptation” to momentum- SGD gives rise to a novel method, completing the practitioner’s toolbox for problems where ADAM fails.","pdf":"/pdf/d608f3fd3ce1628b92d6ad15a19268ae25f5440f.pdf","TL;DR":"Analyzing the popular Adam optimizer","paperhash":"anonymous|dissecting_adam_the_sign_magnitude_and_variance_of_stochastic_gradients","_bibtex":"@article{\n  anonymous2018dissecting,\n  title={Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients},\n  author={Anonymous},\n  journal={International Conference on Learning Representations},\n  year={2018},\n  url={https://openreview.net/forum?id=S1EwLkW0W}\n}","authors":["Anonymous"],"authorids":["ICLR.cc/2018/Conference/Paper482/Authors"],"keywords":["Stochastic Optimization","Deep Learning"]}},{"tddate":null,"ddate":null,"tmdate":1512222665985,"tcdate":1511638715430,"number":1,"cdate":1511638715430,"id":"r1mT8HDgf","invitation":"ICLR.cc/2018/Conference/-/Paper482/Official_Review","forum":"S1EwLkW0W","replyto":"S1EwLkW0W","signatures":["ICLR.cc/2018/Conference/Paper482/AnonReviewer2"],"readers":["everyone"],"content":{"title":"Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients","rating":"4: Ok but not good enough - rejection","review":"Summary: \nThe paper is trying to improve Adam based on variance adaption with momentum. Two algorithms are proposed, M-SSD (Stochastic Sign Descent with Momentum) and M-SVAG (Stochastic Variance-Adapted Gradient with Momentum) to solve finite sum minimization problem. The convergence analysis is provided for SVAG for strongly convex case. Numerical experiments are provided for some standard neural network structures with three common datasets MNIST, CIFAR10 and CIFAR100 compared the performance of M-SSD and M-SVAG to two existing algorithms: SGD momentum and Adam. \n \nComments:\nPage 4, line 5: You should define \\nu clearly.\n\nTheorem 1: In the strongly convex case, assumption E ||g_t ||^2 \\leq G^2 (if G is a constant) is too strong. In this case, G could be equal to infinity. If G is not infinity, you already assume that your algorithm converges, that is the reason why this assumption is not so good for strongly convex. If G is infinity (this is really possible for strongly convex), your proof would get a trouble as eq. (40) is not valid anymore.\n\nAlso, to compute \\gamma_{t,i}, it requires to compute \\nabla f_{t,i}, which is full gradient. By doing this, the computational cost should add the dependence of M, which is very large as you mentioned in the introduction. According to your rate O(1/t), the complexity is worse than that of gradient descent and SGD as well. \n\nAs I understand, there is no theoretical results for M-SSG and M-SVAG, but only the result for SVAG with exact \\eta_i^2 in the strongly convex case. Also, theoretical results are not strong enough. Hence, the experiments need to make more convincingly, at least for some different complicated architecture of deep neural network. As I see, in some dataset, Adam performs better than M-SSD, some another dataset, Adam performs better than M-SVAG. Same situation for M-SGD. My question is that: When should we use M-SSD or M-SVAG? For a given dataset, why should we not use Adam or M-SGD (or other existing algorithms such as Adagrad, RMSprop), but your algorithms? \n\nYou should do more experiments to various dataset and architectures to be more convincing since theoretical results are not strong enough. Would you think to try to use VGG or ResNet to ImageNet?\n\nI like the idea of the paper but I would love if the author(s) could improve more theoretical results to convince people. Otherwise, the results in this paper could not be considered as good enough. At this moment, I think the paper is still not ready for the publication. \n\nMinor comments:\nPage 2, in eq. (6): You should mention that “1” is a vector.\nPage 4, line 4: Q in R^{d} => Q in R^{d x d}\nPage 6, Theorem 1: You should define the finite sum optimization problem with f since you have not used it before.\nPage 6, Theorem 1: You should use another notation for “\\mu”-strongly convex parameter since you have another “\\mu”-momentum parameter in section 3.4\nPage 4, Page 7: Be careful with the case when c = 0 (page 4) and mu = 1 (page 7-8) with dividing by 0. \n","confidence":"4: The reviewer is confident but not absolutely certain that the evaluation is correct"},"writers":[],"nonreaders":[],"replyCount":0,"writable":false,"revisions":false,"tags":[],"forumContent":{"title":"Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients","abstract":"The ADAM optimizer is exceedingly popular in the deep learning community. Often it works very well, sometimes it doesn’t. Why? We interpret ADAM as a combination of two aspects: for each weight, the update direction is determined by the sign of the stochastic gradient, whereas the update magnitude is solely determined by an estimate of its relative variance. We  disentangle these two aspects and analyze them in isolation, shedding light on ADAM ’s inner workings. Transferring the \"variance adaptation” to momentum- SGD gives rise to a novel method, completing the practitioner’s toolbox for problems where ADAM fails.","pdf":"/pdf/d608f3fd3ce1628b92d6ad15a19268ae25f5440f.pdf","TL;DR":"Analyzing the popular Adam optimizer","paperhash":"anonymous|dissecting_adam_the_sign_magnitude_and_variance_of_stochastic_gradients","_bibtex":"@article{\n  anonymous2018dissecting,\n  title={Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients},\n  author={Anonymous},\n  journal={International Conference on Learning Representations},\n  year={2018},\n  url={https://openreview.net/forum?id=S1EwLkW0W}\n}","authors":["Anonymous"],"authorids":["ICLR.cc/2018/Conference/Paper482/Authors"],"keywords":["Stochastic Optimization","Deep Learning"]}},{"tddate":null,"ddate":null,"tmdate":1510092431109,"tcdate":1509719771684,"number":1,"cdate":1509719771684,"id":"rkV11bcAW","invitation":"ICLR.cc/2018/Conference/-/Paper482/Official_Comment","forum":"S1EwLkW0W","replyto":"S1EwLkW0W","signatures":["ICLR.cc/2018/Conference/Paper482/Authors"],"readers":["everyone"],"writers":["ICLR.cc/2018/Conference/Paper482/Authors"],"content":{"title":"Typo","comment":"Dear Reviewers, we want to point out that there is an unfortunate typo in the line after Eq. (9). The covariance matrix of $g(\\theta)$ should obviously be $Q (\\nu^2 I) Q^T = \\nu^2 QQ$ instead of $\\nu^2 I$. It's purely a typo; the subsequent considerations use the correct covariance matrix (see e.g., Section B.1)."},"nonreaders":[],"replyCount":0,"writable":false,"revisions":false,"tags":[],"forumContent":{"title":"Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients","abstract":"The ADAM optimizer is exceedingly popular in the deep learning community. Often it works very well, sometimes it doesn’t. Why? We interpret ADAM as a combination of two aspects: for each weight, the update direction is determined by the sign of the stochastic gradient, whereas the update magnitude is solely determined by an estimate of its relative variance. We  disentangle these two aspects and analyze them in isolation, shedding light on ADAM ’s inner workings. Transferring the \"variance adaptation” to momentum- SGD gives rise to a novel method, completing the practitioner’s toolbox for problems where ADAM fails.","pdf":"/pdf/d608f3fd3ce1628b92d6ad15a19268ae25f5440f.pdf","TL;DR":"Analyzing the popular Adam optimizer","paperhash":"anonymous|dissecting_adam_the_sign_magnitude_and_variance_of_stochastic_gradients","_bibtex":"@article{\n  anonymous2018dissecting,\n  title={Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients},\n  author={Anonymous},\n  journal={International Conference on Learning Representations},\n  year={2018},\n  url={https://openreview.net/forum?id=S1EwLkW0W}\n}","authors":["Anonymous"],"authorids":["ICLR.cc/2018/Conference/Paper482/Authors"],"keywords":["Stochastic Optimization","Deep Learning"]}},{"tddate":null,"ddate":null,"tmdate":1509739278317,"tcdate":1509123675552,"number":482,"cdate":1509739275654,"id":"S1EwLkW0W","invitation":"ICLR.cc/2018/Conference/-/Blind_Submission","forum":"S1EwLkW0W","signatures":["ICLR.cc/2018/Conference"],"readers":["everyone"],"writers":["ICLR.cc/2018/Conference"],"content":{"title":"Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients","abstract":"The ADAM optimizer is exceedingly popular in the deep learning community. Often it works very well, sometimes it doesn’t. Why? We interpret ADAM as a combination of two aspects: for each weight, the update direction is determined by the sign of the stochastic gradient, whereas the update magnitude is solely determined by an estimate of its relative variance. We  disentangle these two aspects and analyze them in isolation, shedding light on ADAM ’s inner workings. Transferring the \"variance adaptation” to momentum- SGD gives rise to a novel method, completing the practitioner’s toolbox for problems where ADAM fails.","pdf":"/pdf/d608f3fd3ce1628b92d6ad15a19268ae25f5440f.pdf","TL;DR":"Analyzing the popular Adam optimizer","paperhash":"anonymous|dissecting_adam_the_sign_magnitude_and_variance_of_stochastic_gradients","_bibtex":"@article{\n  anonymous2018dissecting,\n  title={Dissecting Adam: The Sign, Magnitude and Variance of Stochastic Gradients},\n  author={Anonymous},\n  journal={International Conference on Learning Representations},\n  year={2018},\n  url={https://openreview.net/forum?id=S1EwLkW0W}\n}","authors":["Anonymous"],"authorids":["ICLR.cc/2018/Conference/Paper482/Authors"],"keywords":["Stochastic Optimization","Deep Learning"]},"nonreaders":[],"replyCount":4,"writable":false,"revisions":false,"tags":[],"forumContent":null,"tauthor":"ICLR.cc/2018/Conference"}],"limit":2000,"offset":0}